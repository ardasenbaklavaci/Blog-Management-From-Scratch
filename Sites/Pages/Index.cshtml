@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}
@using CM.Models

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Awesome Blog</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <div class="logo">
            <h1>My Awesome Blog</h1>
        </div>
        
        @{
            void RenderMenuItem(TreeNode node)
            {
                
                if (node.tree.childcount==0)
                {
                    <li>
                        <a href="#">@node.tree.name</a>
                    </li>
                }
                else 
                {
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">@node.tree.name<span class="caret"></span></a>
                        <ul class="dropdown-content">
                            @foreach (var childNode in node.Children)
                            {
                                <a href="#">@childNode.tree.name</a>
                            }
                        </ul>
                    </li>
                }
                
            }
        }

        <nav>
            <ul>
                
                @foreach (var rootNode in Model.firstnodes)
                {
                    RenderMenuItem(rootNode);
                }
                
            </ul>
        </nav>

    </header>
    <main>
        <article>
            <h2>First Blog Post</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam lobortis libero id libero lobortis, id rhoncus nisi bibendum. Mauris sodales nisi nec justo ullamcorper, sit amet interdum neque fermentum.</p>
            <p>Nulla facilisi. Donec sit amet justo vel turpis malesuada rhoncus non eget ipsum. Duis consequat sapien non metus euismod suscipit. Vivamus gravida fermentum nisi, eu vestibulum nunc.</p>
        </article>
        <article>
            <h2>Second Blog Post</h2>
            <p>Etiam efficitur ligula id sem facilisis, a mattis ex ultrices. Sed tempus pharetra est, sit amet molestie metus accumsan vel. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae.</p>
            <p>Nam volutpat magna nec lectus vestibulum efficitur. Curabitur eget posuere ipsum. Pellentesque id libero et magna lacinia vestibulum vitae vitae sapien.</p>
        </article>
    </main>
    <footer>
        <p>&copy; 2024 My Awesome Blog. All rights reserved.</p>
    </footer>
</body>
</html>